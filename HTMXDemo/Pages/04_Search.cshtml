@page
@model HTMXDemo.Pages._04_SearchModel
@{
    ViewBag.Title = "Search";
}

<div class="card p-4 mb-3">
    <h2 class="mb-3">
        <img src="~/img/joystick.svg" alt="joystick" style="height: 2rem">
        Retro Games
        <img id="loading" class="htmx-indicator" src="~/img/pacman.gif" alt="search" width="16" />
    </h2>
    <div class="input-group mb-3">
        <span class="input-group-text" id="search-addon">
            <img id="search-icon" src="~/img/search.svg" alt="search" width="16" />
        </span>
        <input type="text"
               asp-for="Query"
               id="query"
               hx-get="@Url.Page("04_Search")"
               hx-target="#results"
               hx-trigger="keyup changed delay:250ms"
               hx-indicator="#loading"
               autocomplete="off"
               placeholder="Search"
               class="form-control"
               aria-label="Username"
               aria-describedby="search-addon">
    </div>

    <table class="table table-borderless table-striped">
        <thead class="table-dark">
            <tr>
                <th>Year</th>
                <th>Publisher</th>
                <th>Console</th>
                <th>Name</th>
            </tr>
        </thead>
        <tbody id="results">
            @await Html.PartialAsync("_Results")
        </tbody>
    </table>
</div>





